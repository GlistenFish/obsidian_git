# web

## CSRF 和 XSS 和 XXE 有什么区别，以及修复方式？

XSS：跨站脚本攻击，用户提交的数据中可以构造恶意代码，并且执行，从而窃取用户信息等攻击。

修复方式：
	1. 对实体字符进行转义
	2. 使用 HTTPOnly 来禁止 JavaScript 读取 cookie 值
	3. 校验用户的输入、浏览器与 web 应用端采用相同的字符编码


CSRF：跨站请求伪造攻击

修复方式：筛选出需要防范 CSRF 的页面，然后嵌入 token、再次输入密码、校验 referer


XXE：XML外部实体注入攻击，造成敏感文件读取等问题

修复方式：XML解析库在调用时严格禁止对外部实体的解析



## GET 和 POST 的区别？

1. GET 把请求数据放在 URL 上，以 ？分割 URL 和传输数据，参数之间以 & 相连，所以 GET 不太安全
	POST会把数据放在 HTTP 数据包(Request body)中
2. 一般 GET 是获取数据；POST 是修改数据
3. GET 提交的数据是最大是2K (实际的限制取决于浏览器)；POST 在理论上是没有限制的
4. GET 产生一个 TCP 数据包，浏览器会把 http header 和 data 一并发出，服务器响应 200 (返回数据)；POST 产生两个 TCP 数据包，浏览器先发送 header，服务器响应 100 (continue)，浏览器再发送 data，服务器响应 200 OK (返回数据)
5. GET 请求会被浏览器主动缓存；POST 不会，除非手动设置



## XSS 有哪几种类型

1. 反射型：非持久型、参数型，恶意代码并没有保存在目标网站。 后端进行处理
2. 存储型：持久型，恶意代码会存储在目标网站。 后端进行处理
3. DOM 型：通过修改网页的 DOM 节点形成的 XSS。 前端处理

区别：反射型的恶意代码存在 URL 里，存储型恶意代码存在服务器端；而 DOM 型，取出和执行恶意代码都是由前端浏览器完成，属于前端 JavaScript 自身的安全漏洞，其他两种属于服务端的安全漏洞。


## 拿到一个待检测的站，你该如何渗透？渗透测试的思路/流程

1. 信息收集：
	a. 服务器相关信息
			真实ip、系统类型、版本、开放的端口等等
	b. 网站指纹
			cms、cdn、证书、dns等等
	c. whois信息
			姓名、备案、邮箱、电话
	d. 子域名收集、旁站、c段
	e. google hacking
	f. 扫描网站目录结构，爆破后台
2. 漏洞测试
	sql注入、文件上传、命令执行、XSS、XXE、文件包含等
3. 漏洞利用
4. 提权
5. 权限维持
6. 内网扫描
7. 内网攻击
8. 痕迹清理
9. 报告、修复方案


## 如何验证存在 XSS 漏洞

（挖掘 XSS 的步骤）

第一步：找到输入点

第二步：找输出，输入的代码在网页的哪个位置进行输出

第三步：构造payload


## CSRF、SSRF 和重放攻击有什么区别

CSRF 是跨站请求伪造攻击，由客户端发起

SSRF 是服务器端请求伪造，由服务端发起

重放攻击是将截获的数据包进行修改后重放，达到身份认证等目的

![[Pasted image 20231101155728.png]]

![[Pasted image 20231101155741.png]]


## XSS、CSRF 和 SSRF 的区别

XSS：跨站脚本攻击

CSRF：跨站请求伪造攻击

SSRF：服务器端请求伪造攻击

XSS：XSS 是服务器对用户输入的数据没有进行严格的过滤，导致客户端在渲染服务器返回的html页面时，出现了预期值之外的脚本语句被执行。

CSRF：CSRF 是服务器端没有对用户提交的数据进行随机值校验，且对 http 请求包内的 referer 字段校验不严，导致攻击者可以利用用户的 cookie 信息伪造用户请求发送至服务器

SSRF：SSRF 是服务器对用户提供的可控 URL 过于信任，没有对攻击者提供的 URL 进行地址限制和严格的检测，导致攻击者可以以此为跳板攻击内网或其他服务器

